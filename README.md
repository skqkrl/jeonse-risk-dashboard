# jeonse-risk-dashboard
> 전세사기 예방을 위한 이상거래 탐지 기반 서울시 고위험지역 사전탐지 분석

통계 데이터 활용대회 참가 프로젝트

## 프로젝트 개요

전세사기 피해가 월 1,000건 이상 지속되는 상황에서, 서울시 전세 거래 데이터 기반으로 **이상거래를 탐지**하고 **고위험 지역을 사전에 식별**하는 분석 체계를 구축했습니다.

| 구분 | 내용 |
|---|---|
| **데이터** | 국토교통부 실거래가 데이터 (2023.6 ~ 2024.12) |
| **규모** | 전세 약 169,779건 + 매매 약 169,779건, 주택유형 4종 |
| **기술 스택** | Python (pandas, numpy, scikit-learn, matplotlib, seaborn) |
| **담당 역할** | Z-score 이상거래 탐지 로직 설계 및 행정동 단위 위험도 분석 |

---

## 분석 파이프라인

```
[1] 전처리
    국토교통부 원본 8개 파일 (4개 주택유형 × 2개년)
    → 전세 통합 데이터 + 매매 통합 데이터
          │
[2] 전세가율 산출
    조건조합별 집단평균매매가 매칭 (3회 반복 최적화)
    → 전세가율 = 전세금 / 집단평균매매가
          │
[3] 이상거래 탐지
    Z-score 기반 4개 위험지표 설계
          │
[4] 위험지역 분석
    자치구 → 행정동 2단계 위험도 산출
          │
[5] 리스크 유형화
    KMeans 클러스터링 (k=4) → 4개 리스크 유형 도출
```

---

## 프로젝트 구조

```
├── README.md
├── notebooks/
   ├── 01_preprocessing.ipynb          # 전세·매매 데이터 전처리 및 통합
   ├── 02_jeonse_ratio.ipynb           # 전세가율 산출 (조건조합 최적화)
   └── 03_risk_detection_model.ipynb   # 이상탐지 · 위험지역 분석 · 클러스터링
```
---

## 주요 분석 과정 및 결과

### 1. 데이터 전처리

8개 원본 파일(아파트·오피스텔·연립다세대·단독다가구 × 2023·2024)을 전세와 매매 각각 정제하여 통합했습니다.

**주요 처리 항목:**
- 전세 거래만 필터링 (월세 제외)
- 보증금 콤마 제거 → 숫자 변환
- 계약구분 `'-'` → `'신규'` 대체 (근거: 암묵적 갱신은 실거래에 미등록)
- 계약기간 파싱 → 계약개월수 산출, 신규+미기입은 24개월 대체
- 시군구에서 구/동 정규식 추출, 숫자 접미사 제거로 동 단위 통일
- 건축년도 결측 → 결측 플래그 생성 + 건축년도 구간 변수 파생
- 4개 유형 컬럼 표준화 후 통합

### 2. 전세가율 산출

개별 전세 거래에 1:1 매매가가 없으므로, **조건조합별 집단평균매매가**를 산출하여 전세가율을 계산했습니다.

```
전세가율 = 전세금 / 집단평균매매가
```

매칭 실패율을 최소화하기 위해 3차에 걸쳐 조건조합을 조정했습니다.

| 시도 | 조건조합 | 매칭 실패율 |
|---|---|---|
| 1차 | 구 × 유형(4종) × 연도 × 분기 × 면적(4구간) | 18.69% |
| 2차 | 구 × 유형(4종) × 연도 × 반기 × 면적(3구간) | 17.94% |
| **최종** | **구 × 유형(2종) × 연도 × 반기 × 면적(3구간)** | **0.32%** |

→ 주택유형 4종 → 2종(아파트/비아파트), 분기 → 반기, 면적 4구간 → 3구간 조정으로 **매칭 실패율 18.69% → 0.32%** 개선

### 3. Z-score 기반 이상거래 탐지

조건그룹(유형 × 구 × 연도 × 반기 × 면적구간) 내에서 전세가율의 Z-score를 산출하고, 4개 탐지 플래그를 설계했습니다.

| 플래그 | 기준 | 의미 |
|---|---|---|
| `is_z3+` | \|Z\| ≥ 3 | 그룹 내 극단적 이상거래 |
| `is_전세가율_1p0+` | 전세가율 ≥ 1.0 | 깡통전세 |
| `is_top10pct` | 그룹 내 상위 10% | 상대적 고위험 거래 |
| `is_급등` | 전세가율 급등 | 급격한 가격 변동 |

**위험 등급:**
- 강한 위험: 전세가율 ≥ 1.0 OR Z ≥ 3
- 중간 위험: 전세가율 ≥ 0.9 OR Z ≥ 2

### 4. 자치구 · 행정동 2단계 위험도 분석

4개 위험지표의 가중합으로 종합위험지수를 산출했습니다.

**Top 5 위험 자치구:**

| 순위 | 자치구 | 종합위험지수 |
|---|---|---|
| 1 | 관악구 | 1.23 |
| 2 | 노원구 | 0.88 |
| 3 | 도봉구 | 0.59 |
| 4 | 성북구 | 0.43 |
| 5 | 동작구 | 0.38 |

**Top 5 위험 행정동** (거래건수 100건 이상):

| 순위 | 행정동 | 위험스코어 |
|---|---|---|
| 1 | 동소문동2가 | 3.81 |
| 2 | 동소문동1가 | 1.49 |
| 3 | 상산동5가 | 1.15 |
| 4 | 한강동3가 | 1.13 |
| 5 | 성북동 | 0.75 |

→ 동소문동2가는 2위 대비 **약 2.6배** 높은 위험스코어

### 5. KMeans 클러스터링 리스크 유형화

거래건수 100건 이상 행정동을 대상으로, 5개 위험변수를 StandardScaler 정규화 후 KMeans(k=4, Elbow Method) 클러스터링을 수행했습니다.

| 클러스터 | 유형명 | 특성 | 대응 전략 |
|---|---|---|---|
| 0 | 고평가 지역형 | 위험스코어 낮으나 전세가율 자체가 높음 | 고전세율 거래 모니터링 |
| 1 | 극단 고위험군 | 모든 지표 이상 수준, 소수 행정동 | 집중관리구역 지정, 전수조사 |
| 2 | 불균형 고위험군 | 전세가율은 낮지만 특정 지표 취약 | 취약 지표별 맞춤 관리 |
| 3 | 저위험 안정군 | 다수 동 포함, 전반적 위험 낮음 | 분기별 추세 모니터링 |

---

## 정책 제안

1. **고위험 지역 제도적 지정**: 클러스터 1 해당 행정동을 '집중관리구역'으로 지정, 자치구 조례를 통한 법적 근거 마련
2. **시민 대상 전세 리스크 정보 제공**: 리스크 지도 데이터를 공공·민간 부동산 플랫폼과 연동, 데이터 기반 경향성 안내에 초점
3. **상시 조기경보 체계**: 동별 이상 스코어 정기 업데이트, 리스크 급증 지역 사전경고 지정

---

## 분석 한계 및 향후 과제

- 비아파트 통합(오피스텔+연립다세대+단독다가구)으로 매칭 실패율을 낮췄으나, 유형별 매매가 차이로 인한 전세가율 왜곡 가능성 존재
- 상위 위험 자치구 내 행정동만 분석하여, 저위험 자치구 내 개별 고위험 행정동은 누락될 수 있음
- 위험지표 간 상관이 높을 수 있어(Z3+ ↔ 상위 10% 등), 종합위험지수에 중복 반영 가능성 있음
- 향후 PCA 적용 후 클러스터링, 전체 행정동 대상 분석 확장, 시계열 기반 조기경보 로직 추가 검토 필요

---

## 담당 역할

- 조건조합 반복 실험을 통한 **전세가율 산출 로직 최적화**
- Z-score 기반 **이상거래 탐지 로직 설계** 및 4개 위험지표 정의
- 자치구 → 행정동 **2단계 위험도 분석 프레임워크** 구축
- KMeans 클러스터링을 통한 **4개 리스크 유형** 도출 및 클러스터별 대응 전략 제안
